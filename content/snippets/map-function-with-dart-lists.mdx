---
title: "How To Use The map() Function In Dart"
description: "Using .map() in dart doesn't have to be complicated."
seoDescription: "Dart and Flutter doesn't return data when I use .map() function on array list."
author: "Benjamin Carlson"
authorImage: "benjamin-carlson.jpeg"
authorPosition: "Founder Coffeeclass"
publishedAt: "2021-04-05"
tags: ["dart", "flutter"]
---

## The Problem

Recently, I was building a Flutter app for the final project in one of my college classes.
I needeed to map over an array of users when a user logged in and check if their username, password, and security question answer matched what was
in the database (the userArray). I tried to do something like this:

```dart
var userArray = ['User 1', 'User 2', 'User 3'];

userArray
    .map((user) => {
            if (user == 'User 1')
            {
                // log user in
            } else {
                    // don't log user in
                }
            });
```

Quick note: I removed some of my project specific logic and only included the important parts
so it is easier to follow.

This code logs the user in if they are user 1. This looks like it should work, right? Unfortunately, it doesn't. It will not break either. Instead,
nothing will happen. This makes it hard to debug.

## The Solution

The simple solition is to add `.toList()` to the end of the map statement.

```dart
var userArray = ['User 1', 'User 2', 'User 3'];

userArray
    .map((user) => {
            if (user == 'User 1')
            {
                // log user in
            } else {
                    // don't log user in
                }
            }).toList(); // added .toList() here!
```

## Why This Works

Unlike in JavaScript, in Dart when you `.map()` over an object, the `Iterable` that
is returned is `lazy`. This means it is not evaulated by calling `.map()`. To `evaulate` it, we need to call `.toList()`. You
can read more about this [here](https://api.dart.dev/stable/2.12.4/dart-core/Iterable-class.html).